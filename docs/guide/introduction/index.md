---
sidebarDepth: 2
noOutboundLinks: true
---

# 介绍

Koishi 是一个现代、高效的跨平台聊天机器人框架。

它的名字和图标设计来源于东方 Project 中的角色古明地恋（Komeiji Koishi）。古明地恋是一个会做出无意识举动的角色，取这个名字既象征着聊天机器人的主题，也表达了作者我为这个项目以及开源工作倾注的热爱。

## 特性

### 开箱即用的控制台

高度便利的控制台让你无需基础让你在几分钟之内搭建自己的聊天机器人。

- 提供在线插件市场，即使没有 js 编程基础，也能轻松在控制台中下载安装插件
- 支持 QQ，Telegram，Discord 等主流聊天平台，支持多账户和跨平台数据互通
- 随时随机通过控制面板监控运行状态，控制机器人的行为，甚至上号聊天

参见：[创建 Koishi 控制台项目](./console.md)

### 功能强大的 API

经过了几个版本的迭代，Koishi 已经发展出了丰富的 API，功能覆盖机器人领域的方方面面。从上层负责交互的指令、会话、中间件，再到中层负责控制的应用、上下文、插件，最后到底层的机器人和适配器，每一个部分都经过了精心的编写，可以让你轻松实现任何需求。如果担心在复杂的功能中迷失方向，我们也准备了细致的文档来提供帮助。

参见：[API 文档](../../api/)

### 丰富的生态系统

官方提供了大量插件和解决方案，覆盖了绝大多数常见需求的同时，也为开发提供了绝佳的范例。

- @koishijs/plugin-console：网页控制台
- @koishijs/plugin-schedule：计划任务
- @koishijs/plugin-teach：问答教学

除了这些官方插件以外，社区贡献者也编写了各种各样的第三方插件：

- koishi-plugin-genshin：原神资料查询
- koishi-plugin-ink：展示视觉小说
- koishi-plugin-shell：执行终端命令

这些插件共同组成了 Koishi 如今的生态。

参见：[官方插件](../../plugins/)

### 专为开发者打造

Koishi 更为开发者提供了众多专业功能，使开发者得以在各种复杂需求中构建规模化的解决方案。

#### 类型支持

Koishi 完全基于 TypeScript 开发，拥有顶级的类型支持，丰富的代码提示让你在编写代码的时候甚至无需查看文档。

#### 单元测试

所有核心功能均已经通过单元测试，既确保了可靠性，也为开发者提供了一套测试插件和定位问题的最佳实践。

#### 模块热重载

开发 Koishi 插件时，只需轻点保存即可热重载，无需频繁重启机器人，如同前端开发一样丝滑顺畅。

## 发展史

2019 年 8 月，我开始编写我的第一个基于 Node.js 的聊天机器人，名为四季酱。当时我浏览各种聊天机器人框架，发现并没有自己真正想要的，遂决定从零开始编写。一开始这个机器人只包含了很少的功能，但随着其更多功能的加入，我开始调整起底层架构，并计划逐步将其开源出来。

到目前为止 Koishi 大约每 8 个月发布一个大版本。可以说 Koishi 的发展完全是由需求推动的，在迭代中形成了一套聊天机器人开发的最佳实践。

### v1 时期

Koishi v1 发布于 2020 年 1 月。此时的 Koishi 虽然体量尚小，但已具备了许多一直沿袭至今的特征：通过插件系统实现了功能的模块化，通过事件模型和中间件处理各种输入，上下文负责对输入的事件进行过滤，以及一个通过链式调用进行开发的指令系统等等。

最初的 v1 官方插件只有 common, schedule 和 teach，其他在这个时期开发的插件大都已经弃用了。

### v2 时期

Koishi v2 发布于 2020 年 9 月，主要改动存在于应用层设计上。在这个大版本中，应用作为程序的入口对所需的资源统一管理，第一次有了生命周期钩子的概念，也将 v1 时期的元信息对象进化为了会话对象。这些改动将许多底层的接口进行了封装，允许插件开发者通过更为现代化的方式组织业务逻辑。

v2 时期也是官方插件发展迅猛的时期，许多功能强大的插件如 eval, github, image-search 和 puppeteer 等都是在这个阶段被开发出来的。

### v3 时期

Koishi v3 发布于 2021 年 5 月。这个版本最核心的变化是我们抽象出了 Adapter / Bot 的概念，并成功将 Koishi 适配到 Discord 和 Telegram 等其他主流聊天平台中。另一个值得一提的改动则是我们实现了插件的热重载，并由此催生了网页控制台和插件市场的发展。

在此期间社区开发者贡献了大量或有趣或实用的插件，也意味着 Koishi 在功能模块化的推行上取得了令人满意的成效。

### v4 时期

Koishi v4 发布于 2022 年 1 月，在底层架构中进行了大幅优化。我们引入了 Service 的概念，这将使我们得以通过类似于 IoC / DI 的方式管理 Koishi 的各项功能。同时对于数据库，我们也提供了一个 ORM 解决方案，这大幅优化了插件的开发体验。此外，我们正式围绕 Service 确立了 Assets 和 Cache 等接口，并提供了许多官方插件实现。

在这个版本中，我们出于维护性的考虑将一些官方插件移出了 koishijs/koishi。即便如此，官方插件的数量也较上一个大版本有了一个激增。以插件市场为核心的生态也正在被快速完善起来。
